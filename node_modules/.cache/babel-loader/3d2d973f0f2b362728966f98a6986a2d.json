{"ast":null,"code":"import _defineProperty from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _asyncToGenerator from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import\"date-fns\";import{Paper,Box,Typography,Divider,Container,InputLabel,Select,FormControl,FormHelperText,MenuItem,Grid,Button}from\"@material-ui/core\";import{Table,TextField,CircularProgress}from\"@material-ui/core\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TablePagination from\"@material-ui/core/TablePagination\";import TableRow from\"@material-ui/core/TableRow\";import TableSortLabel from\"@material-ui/core/TableSortLabel\";import Toolbar from\"@material-ui/core/Toolbar\";import{connect}from\"react-redux\";import{ThemeProvider}from\"@material-ui/core/styles\";import{theme}from\"../../theme/light\";import{withStyles}from\"@material-ui/core/styles\";import DateFnsUtils from\"@date-io/date-fns\";import ReactHTMLTableToExcel from\"react-html-table-to-excel\";import{MuiPickersUtilsProvider,KeyboardTimePicker,KeyboardDatePicker}from\"@material-ui/pickers\";import UserService from\"../../services/user.service\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=function useStyles(theme){return{root:{\"& > *\":{marginTop:theme.spacing(4)}},roots:{width:\"100%\"},paper:{width:\"100%\"},papers:{width:\"100%\",marginBottom:theme.spacing(2)},formControl:{marginTop:theme.spacing(2),minWidth:300},selectEmpty:{marginTop:theme.spacing(2)}};};var headCells=[{id:\"facilityName\",numeric:false,disablePadding:false,label:\"Facility Name\"},// {\n//   id: \"vehicleType\",\n//   numeric: false,\n//   disablePadding: false,\n//   label: \"Vehicle Type\",\n// },\n{id:\"checkin\",numeric:false,disablePadding:false,label:\"Total Check In\"},{id:\"checkout\",numeric:false,disablePadding:false,label:\"Total Check Out\"},{id:\"total\",numeric:false,disablePadding:false,label:\"Total\"}];var paymentHeadCells=[{id:\"online\",numeric:false,disablePadding:false,label:\"Online\"},{id:\"cash\",numeric:false,disablePadding:false,label:\"Cash\"},{id:\"exempt\",numeric:false,disablePadding:false,label:\"Exempt\"},{id:\"total\",numeric:false,disablePadding:false,label:\"Total\"}];var rows=[];function EnhancedTableHead(props){var classes=props.classes,onSelectAllClick=props.onSelectAllClick,order=props.order,orderBy=props.orderBy,numSelected=props.numSelected,rowCount=props.rowCount,onRequestSort=props.onRequestSort;var createSortHandler=function createSortHandler(property){return function(event){onRequestSort(event,property);};};return/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{children:headCells.map(function(headCell){return/*#__PURE__*/_jsx(TableCell,{align:headCell.numeric?\"right\":\"left\",padding:headCell.disablePadding?\"none\":\"normal\",sortDirection:orderBy===headCell.id?order:false,children:/*#__PURE__*/_jsxs(TableSortLabel,{active:orderBy===headCell.id,direction:orderBy===headCell.id?order:\"asc\",onClick:createSortHandler(headCell.id),children:[headCell.label,orderBy===headCell.id?/*#__PURE__*/_jsx(\"span\",{className:classes.visuallyHidden,children:order===\"desc\"?\"sorted descending\":\"sorted ascending\"}):null]})},headCell.id);})})});}function descendingComparator(a,b,orderBy){if(b[orderBy]<a[orderBy]){return-1;}if(b[orderBy]>a[orderBy]){return 1;}return 0;}function getComparator(order,orderBy){console.log(\"getComparator\",order);return order===\"desc\"?function(a,b){return descendingComparator(a,b,orderBy);}:function(a,b){return-descendingComparator(a,b,orderBy);};}function stableSort(array,comparator){var stabilizedThis=array.map(function(el,index){return[el,index];});stabilizedThis.sort(function(a,b){var order=comparator(a[0],b[0]);if(order!==0)return order;return a[1]-b[1];});return stabilizedThis.map(function(el){return el[0];});}var Home=/*#__PURE__*/function(_React$PureComponent){_inherits(Home,_React$PureComponent);var _super=_createSuper(Home);function Home(props){var _this$state6;var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.getRefreshMapping=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$state,deviceuniqueid,token,response,status,data,groupmapping,list,id,names;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$state=_this.state,deviceuniqueid=_this$state.deviceuniqueid,token=_this$state.token;_context.prev=1;_context.next=4;return UserService.mapping(deviceuniqueid,token);case 4:response=_context.sent;status=response.status,data=response.data;groupmapping=data.groupmapping;list=groupmapping.data;console.log(\"response after getRefreshMapping --> \",response);if(data&&list.length>0){id=[];names=[];list.map(function(item,index){id.push(item.facilityid);names.push(item.name);});id=id.join(\",\");_this.setState({mappingList:list,consolidates:id,names:names},function(){_this.getDailyMISAdminReport();});}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(\"error getRefreshMapping\",_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));_this.getDailyMISAdminReport=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this$state2,token,facilityid,startDate,instanceId,consolidates,facilityidTosend,inputdate,response,res,data,totalcheckin,totalcheckout,totalPayment,totalVehicle,carIn,carOut,bikeIn,bikeOut,bicycleIn,bicycleOut,cashCount,onlineCount,noCashCount,overallCheckin,overallCheckout,overallPayment,vehicleArray,paymentValue,paymentArray,amountArray,vechicles,finalArray,a,_data$a,checkin,checkout,payment,facilityname,_loop,i,_loop2,_i,_loop3,_i2,objectToShow;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state2=_this.state,token=_this$state2.token,facilityid=_this$state2.facilityid,startDate=_this$state2.startDate,instanceId=_this$state2.instanceId,consolidates=_this$state2.consolidates;console.log(\"datattatatatatatata\",facilityid,\"   \",consolidates);facilityidTosend=\"\";if(facilityid===\"0\"){facilityidTosend=consolidates;}else{facilityidTosend=facilityid;}inputdate=moment(startDate).format(\"DD-MMM-YYYY\");// 01-Oct-2022\n_context2.prev=5;_context2.next=8;return UserService.AdminMISStatusReport(facilityidTosend,token,inputdate);case 8:response=_context2.sent;console.log(\"response after getDailyMISAdminReport \",response);res=response.data;data=res.data;if(res.respCode===1&&data.length>0){totalcheckin=0;totalcheckout=0;totalPayment=0;totalVehicle=0;carIn=0;carOut=0;bikeIn=0;bikeOut=0;bicycleIn=0;bicycleOut=0;cashCount=0;onlineCount=0;noCashCount=0;overallCheckin=0;overallCheckout=0;overallPayment=0;vehicleArray=[];paymentValue={2:\"Cash\",3:\"Online\",5:\"Exempt\"};paymentArray=[];amountArray=[];vechicles={1:\"Bike\",2:\"Car\",4:\"Bicycle\"};finalArray=[];for(a=0;a<data.length;a++){totalcheckin=0;totalcheckout=0;totalPayment=0;totalVehicle=0;carIn=0;carOut=0;bikeIn=0;bikeOut=0;bicycleIn=0;bicycleOut=0;cashCount=0;onlineCount=0;noCashCount=0;_data$a=data[a],checkin=_data$a.checkin,checkout=_data$a.checkout,payment=_data$a.payment,facilityname=_data$a.facilityname;if(checkin){_loop=function _loop(i){var _checkin$i=checkin[i],vehicletype=_checkin$i.vehicletype,vehiclecount=_checkin$i.vehiclecount;var vehicleName=vechicles[vehicletype];var ifExist=vehicleArray.findIndex(function(value,index){return value===vehicleName;});if(ifExist==-1){vehicleArray.push(vehicleName);}carIn=vehicleName==\"Car\"?vehiclecount:carIn;bikeIn=vehicleName==\"Bike\"?vehiclecount:bikeIn;bicycleIn=vehicleName==\"Bicycle\"?vehiclecount:bicycleIn;totalcheckin=totalcheckin+vehiclecount;};for(i=0;i<checkin.length;i++){_loop(i);}console.log(\"checkin data\",carIn);}if(checkout){_loop2=function _loop2(_i){var _checkout$_i=checkout[_i],vehicletype=_checkout$_i.vehicletype,vehiclecount=_checkout$_i.vehiclecount;var vehicleName=vechicles[vehicletype];var ifExist=vehicleArray.findIndex(function(value,index){return value===vehicleName;});if(ifExist==-1){vehicleArray.push(vehicleName);}carOut=vehicleName==\"Car\"?vehiclecount:carOut;bikeOut=vehicleName==\"Bike\"?vehiclecount:bikeOut;bicycleOut=vehicleName==\"Bicycle\"?vehiclecount:bicycleOut;totalcheckout=totalcheckout+vehiclecount;};for(_i=0;_i<checkout.length;_i++){_loop2(_i);}}if(payment){_loop3=function _loop3(_i2){var _payment$_i=payment[_i2],paymentmode=_payment$_i.paymentmode,amountcollected=_payment$_i.amountcollected;var paymentName=paymentValue[paymentmode];var ifExist=paymentArray.findIndex(function(value,index){return value===paymentName;});if(ifExist==-1){paymentArray.push(paymentName);}cashCount=paymentName==\"Cash\"?amountcollected/100:cashCount;onlineCount=paymentName==\"Online\"?amountcollected/100:onlineCount;noCashCount=paymentName==\"Exempt\"?amountcollected/100:noCashCount;if(cashCount!==0){amountArray.push(cashCount);}else if(onlineCount!==0){amountArray.push(onlineCount);}else if(noCashCount!==0){amountArray.push(noCashCount);}if(paymentmode!==5){totalPayment=totalPayment+amountcollected/100;}};for(_i2=0;_i2<payment.length;_i2++){_loop3(_i2);}}overallCheckin=overallCheckin+totalcheckin;overallCheckout=overallCheckout+totalcheckout;overallPayment=overallPayment+totalPayment;objectToShow={facilityNameToShow:facilityname,totalCarin:carIn,totalCarout:carOut,totalBikein:bikeIn,totalBikeout:bikeOut,totalBicyclein:bicycleIn,totalBicycleout:bicycleOut,totalPayment:totalPayment,totalcheckin:totalcheckin,totalcheckout:totalcheckout};finalArray.push(objectToShow);}_this.setState({dailyReport:finalArray,overallCheckin:overallCheckin,overallCheckout:overallCheckout,overallPayment:overallPayment,totalCheckIn:totalcheckin,totalCheckOut:totalcheckout,totalCash:cashCount,totalOnline:onlineCount,totalNoCash:noCashCount,totalAmount:totalPayment});}_context2.next=18;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](5);console.log(\"error getDailyMISAdminReport\",_context2.t0);case 18:case\"end\":return _context2.stop();}}},_callee2,null,[[5,15]]);}));_this.getMonthlyMISAdminReport=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this$state3,token,facilityid,startDate,instanceId,consolidates,facilityidTosend,inputdate,response,res,data,_totalcheckin,_totalcheckout,_totalPayment,totalVehicle,_carIn,_carOut,_bikeIn,_bikeOut,_bicycleIn,_bicycleOut,_cashCount,_onlineCount,_noCashCount,overallCheckin,overallCheckout,overallPayment,_vehicleArray,_paymentValue,_paymentArray,_amountArray,_vechicles,finalArray,a,_data$a2,_checkin,_checkout,_payment,facilityname,_loop4,i,_loop5,_i3,_loop6,_i4,objectToShow;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this$state3=_this.state,token=_this$state3.token,facilityid=_this$state3.facilityid,startDate=_this$state3.startDate,instanceId=_this$state3.instanceId,consolidates=_this$state3.consolidates;facilityidTosend=\"\";if(facilityid===\"0\"){facilityidTosend=consolidates;}else{facilityidTosend=facilityid;}inputdate=moment(startDate).format(\"MMM-YYYY\");// 01-Oct-2022\n_context3.prev=4;_context3.next=7;return UserService.AdminMonthlyMISStatusReport(facilityidTosend,token,inputdate);case 7:response=_context3.sent;console.log(\"response after getMonthlyMISAdminReport \",response);res=response.data;data=res.data;if(res.respCode===1&&data.length>0){_totalcheckin=0;_totalcheckout=0;_totalPayment=0;totalVehicle=0;_carIn=0;_carOut=0;_bikeIn=0;_bikeOut=0;_bicycleIn=0;_bicycleOut=0;_cashCount=0;_onlineCount=0;_noCashCount=0;overallCheckin=0;overallCheckout=0;overallPayment=0;_vehicleArray=[];_paymentValue={2:\"Cash\",3:\"Online\",5:\"Exempt\"};_paymentArray=[];_amountArray=[];_vechicles={1:\"Bike\",2:\"Car\",4:\"Bicycle\"};finalArray=[];for(a=0;a<data.length;a++){_totalcheckin=0;_totalcheckout=0;_totalPayment=0;totalVehicle=0;_carIn=0;_carOut=0;_bikeIn=0;_bikeOut=0;_bicycleIn=0;_bicycleOut=0;_cashCount=0;_onlineCount=0;_noCashCount=0;_data$a2=data[a],_checkin=_data$a2.checkin,_checkout=_data$a2.checkout,_payment=_data$a2.payment,facilityname=_data$a2.facilityname;if(_checkin){_loop4=function _loop4(i){var _checkin$i2=_checkin[i],vehicletype=_checkin$i2.vehicletype,vehiclecount=_checkin$i2.vehiclecount;var vehicleName=_vechicles[vehicletype];var ifExist=_vehicleArray.findIndex(function(value,index){return value===vehicleName;});if(ifExist==-1){_vehicleArray.push(vehicleName);}_carIn=vehicleName==\"Car\"?vehiclecount:_carIn;_bikeIn=vehicleName==\"Bike\"?vehiclecount:_bikeIn;_bicycleIn=vehicleName==\"Bicycle\"?vehiclecount:_bicycleIn;_totalcheckin=_totalcheckin+vehiclecount;};for(i=0;i<_checkin.length;i++){_loop4(i);}console.log(\"checkin data\",_carIn);}if(_checkout){_loop5=function _loop5(_i3){var _checkout$_i2=_checkout[_i3],vehicletype=_checkout$_i2.vehicletype,vehiclecount=_checkout$_i2.vehiclecount;var vehicleName=_vechicles[vehicletype];var ifExist=_vehicleArray.findIndex(function(value,index){return value===vehicleName;});if(ifExist==-1){_vehicleArray.push(vehicleName);}_carOut=vehicleName==\"Car\"?vehiclecount:_carOut;_bikeOut=vehicleName==\"Bike\"?vehiclecount:_bikeOut;_bicycleOut=vehicleName==\"Bicycle\"?vehiclecount:_bicycleOut;_totalcheckout=_totalcheckout+vehiclecount;};for(_i3=0;_i3<_checkout.length;_i3++){_loop5(_i3);}}if(_payment){_loop6=function _loop6(_i4){var _payment$_i2=_payment[_i4],paymentmode=_payment$_i2.paymentmode,amountcollected=_payment$_i2.amountcollected;var paymentName=_paymentValue[paymentmode];var ifExist=_paymentArray.findIndex(function(value,index){return value===paymentName;});if(ifExist==-1){_paymentArray.push(paymentName);}_cashCount=paymentName==\"Cash\"?amountcollected/100:_cashCount;_onlineCount=paymentName==\"Online\"?amountcollected/100:_onlineCount;_noCashCount=paymentName==\"Exempt\"?amountcollected/100:_noCashCount;if(_cashCount!==0){_amountArray.push(_cashCount);}else if(_onlineCount!==0){_amountArray.push(_onlineCount);}else if(_noCashCount!==0){_amountArray.push(_noCashCount);}if(paymentmode!==5){_totalPayment=_totalPayment+amountcollected/100;}};for(_i4=0;_i4<_payment.length;_i4++){_loop6(_i4);}}overallCheckin=overallCheckin+_totalcheckin;overallCheckout=overallCheckout+_totalcheckout;overallPayment=overallPayment+_totalPayment;objectToShow={facilityNameToShow:facilityname,totalCarin:_carIn,totalCarout:_carOut,totalBikein:_bikeIn,totalBikeout:_bikeOut,totalBicyclein:_bicycleIn,totalBicycleout:_bicycleOut,totalPayment:_totalPayment,totalcheckin:_totalcheckin,totalcheckout:_totalcheckout};finalArray.push(objectToShow);}_this.setState({dailyReport:finalArray,overallCheckin:overallCheckin,overallCheckout:overallCheckout,overallPayment:overallPayment,totalCheckIn:_totalcheckin,totalCheckOut:_totalcheckout,totalCash:_cashCount,totalOnline:_onlineCount,totalNoCash:_noCashCount,totalAmount:_totalPayment});}_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](4);console.log(\"error getMonthlyMISAdminReport\",_context3.t0);case 17:case\"end\":return _context3.stop();}}},_callee3,null,[[4,14]]);}));_this.handleChange=function(event){var _this$state4=_this.state,mappingList=_this$state4.mappingList,type=_this$state4.type;console.log(\"first\",event.target.value);var name=\"\";for(var i=0;i<mappingList.length;i++){console.log(\"first\",mappingList[i][\"facilityid\"]);if(event.target.value===mappingList[i][\"facilityid\"]){name=mappingList[i][\"name\"];}}if(!name){name=\"Consolidate\";}console.log(\"name\",name);_this.setState({facilityid:event.target.value,facilityName:name,dailyReport:[],totalCheckIn:0,totalCheckOut:0,totalCash:0,totalOnline:0,totalNoCash:0,totalAmount:0,overallCheckin:0,overallCheckout:0,overallPayment:0},function(){if(type===\"Daily\"){_this.getDailyMISAdminReport();// this.getDailyAdminParkingStatusReport();\n}else{// this.getMonthlyAdminParkingStatusReport();\n_this.getMonthlyMISAdminReport();}});};_this.handleTypeChange=function(event){_this.setState({type:event.target.value,dailyReport:[],totalCheckIn:0,totalCheckOut:0,totalCash:0,totalOnline:0,totalNoCash:0,totalAmount:0,overallCheckin:0,overallCheckout:0,overallPayment:0},function(){if(event.target.value===\"Daily\"){//this.getDailyAdminParkingStatusReport();\n_this.getDailyMISAdminReport();}else{// this.getMonthlyAdminParkingStatusReport();\n_this.getMonthlyMISAdminReport();}});};_this.handleDateChange=function(date){var type=_this.state.type;console.log(date);_this.setState({startDate:date,dailyReport:[],totalCheckIn:0,totalCheckOut:0,totalCash:0,totalOnline:0,totalNoCash:0,totalAmount:0,overallCheckin:0,overallCheckout:0,overallPayment:0//endDate: date + 1,\n},function(){if(type===\"Daily\"){//this.getDailyAdminParkingStatusReport();\n_this.getDailyMISAdminReport();}else{// this.getMonthlyAdminParkingStatusReport();\n_this.getMonthlyMISAdminReport();}});};_this.handleEndDateChange=function(date){_this.setState({endDate:date});};_this.handleRequestSort=function(event,property){var _this$state5=_this.state,orderBy=_this$state5.orderBy,order=_this$state5.order;var isAsc=orderBy===property&&order===\"asc\";_this.setState({order:isAsc?\"desc\":\"asc\"});_this.setState({orderBy:property});};_this.handleSelectAllClick=function(event){var allBranch=_this.state.allBranch;if(event.target.checked){var newSelecteds=allBranch.map(function(n){return n.id;});_this.setState({selected:newSelecteds});return;}_this.setState({selected:[]});};_this.handleClick=function(event,name){var selected=_this.state.selected;console.log(selected);var selectedIndex=selected.indexOf(name);var newSelected=[];if(selectedIndex===-1){newSelected=newSelected.concat(selected,name);}else if(selectedIndex===0){newSelected=newSelected.concat(selected.slice(1));}else if(selectedIndex===selected.length-1){newSelected=newSelected.concat(selected.slice(0,-1));}else if(selectedIndex>0){newSelected=newSelected.concat(selected.slice(0,selectedIndex),selected.slice(selectedIndex+1));}_this.setState({selected:newSelected});};_this.handleChangePage=function(event,newPage){_this.setState({page:newPage});};_this.handleChangeRowsPerPage=function(event){_this.setState({rowsPerPage:parseInt(event.target.value,10)});_this.setState({page:0});};_this.state=(_this$state6={age:\"\",startDate:new Date(),endDate:new Date()+1,deviceuniqueid:\"Web\",token:\"339CFB64EDC6E94C5577CD68319E72AB6732C711AE661427AC83931B33F05CC4\",mappingList:[],consolidates:\"\",type:\"Daily\",facilityid:\"0\",dailyReport:[],selected:[],order:\"asc\",orderBy:\"calories\"},_defineProperty(_this$state6,\"selected\",[]),_defineProperty(_this$state6,\"page\",0),_defineProperty(_this$state6,\"rowsPerPage\",10),_defineProperty(_this$state6,\"names\",[]),_defineProperty(_this$state6,\"instanceId\",\"0\"),_defineProperty(_this$state6,\"facilityName\",\"Consolidate\"),_defineProperty(_this$state6,\"totalCheckIn\",0),_defineProperty(_this$state6,\"totalCheckOut\",0),_defineProperty(_this$state6,\"totalCash\",0),_defineProperty(_this$state6,\"totalOnline\",0),_defineProperty(_this$state6,\"totalNoCash\",0),_defineProperty(_this$state6,\"totalAmount\",0),_defineProperty(_this$state6,\"mISReport\",[]),_defineProperty(_this$state6,\"overallCheckin\",0),_defineProperty(_this$state6,\"overallCheckout\",0),_defineProperty(_this$state6,\"overallPayment\",0),_this$state6);return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var userDetails=this.props.userDetails;var loginToken=userDetails.loginToken,facilityid=userDetails.facilityid;this.setState({token:loginToken// facilityid: facilityid,\n},function(){_this2.getRefreshMapping();// this.getDailyAdminParkingStatusReport();\n});}},{key:\"render\",value:function render(){var _this3=this;var classes=this.props.classes;var _this$state7=this.state,instanceId=_this$state7.instanceId,startDate=_this$state7.startDate,endDate=_this$state7.endDate,mappingList=_this$state7.mappingList,type=_this$state7.type,rowsPerPage=_this$state7.rowsPerPage,page=_this$state7.page,selected=_this$state7.selected,orderBy=_this$state7.orderBy,order=_this$state7.order,dailyReport=_this$state7.dailyReport,facilityName=_this$state7.facilityName,totalCheckIn=_this$state7.totalCheckIn,totalCheckOut=_this$state7.totalCheckOut,totalCash=_this$state7.totalCash,totalOnline=_this$state7.totalOnline,totalNoCash=_this$state7.totalNoCash,totalAmount=_this$state7.totalAmount,overallCheckin=_this$state7.overallCheckin,overallCheckout=_this$state7.overallCheckout,overallPayment=_this$state7.overallPayment,facilityid=_this$state7.facilityid;console.log(\"dailyReportdailyReportdailyReport\",dailyReport);var rows=dailyReport;var emptyRows=rowsPerPage-Math.min(rowsPerPage,dailyReport.length-page*rowsPerPage);var isSelected=function isSelected(id){return selected.indexOf(id)!==-1;};console.log(\"mappingList\",mappingList,\" type\",type);return/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsx(Box,{className:\"container\",p:2.5,bgcolor:\"primary.lightBgContainer\",children:/*#__PURE__*/_jsxs(Paper,{className:\"content lead-page\",children:[/*#__PURE__*/_jsxs(Box,{className:\"page-heading\",mb:3,children:[/*#__PURE__*/_jsx(Box,{color:\"text.secondary\",pt:3,pr:2.7,pb:1.8,pl:3,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,color:\"inherit\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsx(MuiPickersUtilsProvider,{utils:DateFnsUtils,children:/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-evenly\",children:[/*#__PURE__*/_jsxs(FormControl,{variant:\"standard\",className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"age-native-simple\",children:\"Select Facility\"}),/*#__PURE__*/_jsxs(Select,{native:true,value:facilityid,placeholder:\"Facility Name\",onChange:function onChange(e,index){_this3.handleChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Consolidated\"}),mappingList.map(function(data,index){return/*#__PURE__*/_jsx(\"option\",{value:data.facilityid,children:data.name},index.toString());})]})]}),/*#__PURE__*/_jsxs(FormControl,{variant:\"standard\",className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"age-native-simple\",children:\"Select Type\"}),/*#__PURE__*/_jsxs(Select,{native:true,value:type,placeholder:\"Age\",onChange:function onChange(e){return _this3.handleTypeChange(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Daily\",children:\"Daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Monthly\",children:\"Monthly\"})]})]}),/*#__PURE__*/_jsx(KeyboardDatePicker,{disableToolbar:true,variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"Date\",value:startDate,onChange:function onChange(date){return _this3.handleDateChange(date);},KeyboardButtonProps:{\"aria-label\":\"change date\"}})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ReactHTMLTableToExcel,{id:\"test-table-xls-button\",className:\"download-table-xls-button\",table:\"emp\",filename:\"tablexls\",sheet:\"tablexls\",buttonText:\"Download as XLS\"}),/*#__PURE__*/_jsxs(\"table\",{id:\"emp\",className:\"table all_domain_table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"text-white bg-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"above-column\",children:\"Facility Name\"}),/*#__PURE__*/_jsx(\"th\",{colspan:\"3\",className:\"above-column\",children:\"Total Check In\"}),/*#__PURE__*/_jsx(\"th\",{colspan:\"3\",className:\"above-column\",children:\"Total Check Out\"}),/*#__PURE__*/_jsx(\"th\",{className:\"above-column\",children:\"Payment (Rs)\"})]})}),rows.map(function(data,index){console.log(\"dataToLoad\",data);var facilityNameToShow=data.facilityNameToShow,totalBicyclein=data.totalBicyclein,totalBicycleout=data.totalBicycleout,totalBikein=data.totalBikein,totalBikeout=data.totalBikeout,totalCarin=data.totalCarin,totalCarout=data.totalCarout,totalPayment=data.totalPayment,totalcheckin=data.totalcheckin,totalcheckout=data.totalcheckout;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{rowspan:\"2\",children:facilityNameToShow}),/*#__PURE__*/_jsx(\"td\",{colspan:\"3\",children:totalcheckin}),/*#__PURE__*/_jsx(\"td\",{colspan:\"3\",children:totalcheckout}),/*#__PURE__*/_jsx(\"td\",{rowspan:\"2\",children:totalPayment})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"Car: \",totalCarin]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Bike: \",totalBikein]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Bicycle: \",totalBicyclein]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Car: \",totalCarout]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Bike: \",totalBikeout]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Bicycle: \",totalBicycleout]})]})]});}),rows&&rows.length>1?/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle \",colSpan:1,children:\"Total:\"}),/*#__PURE__*/_jsx(\"td\",{colspan:\"3\",className:\"align-middle\",children:overallCheckin}),/*#__PURE__*/_jsx(\"td\",{colspan:\"3\",className:\"align-middle\",children:overallCheckout}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\",children:overallPayment})]})}):null]})]})]})})});}}]);return Home;}(React.PureComponent);var mapStateToProps=function mapStateToProps(state){return{userDetails:state.user};};export default connect(mapStateToProps)(withStyles(useStyles)(Home));","map":{"version":3,"sources":["/Users/abhijeetsingh/My Data/my data/EazyPark ReactJs/eduorg/src/pages/Home/index.js"],"names":["React","Paper","Box","Typography","Divider","Container","InputLabel","Select","FormControl","FormHelperText","MenuItem","Grid","Button","Table","TextField","CircularProgress","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TableSortLabel","Toolbar","connect","ThemeProvider","theme","withStyles","DateFnsUtils","ReactHTMLTableToExcel","MuiPickersUtilsProvider","KeyboardTimePicker","KeyboardDatePicker","UserService","moment","useStyles","root","marginTop","spacing","roots","width","paper","papers","marginBottom","formControl","minWidth","selectEmpty","headCells","id","numeric","disablePadding","label","paymentHeadCells","rows","EnhancedTableHead","props","classes","onSelectAllClick","order","orderBy","numSelected","rowCount","onRequestSort","createSortHandler","property","event","map","headCell","visuallyHidden","descendingComparator","a","b","getComparator","console","log","stableSort","array","comparator","stabilizedThis","el","index","sort","Home","getRefreshMapping","state","deviceuniqueid","token","mapping","response","status","data","groupmapping","list","length","names","item","push","facilityid","name","join","setState","mappingList","consolidates","getDailyMISAdminReport","startDate","instanceId","facilityidTosend","inputdate","format","AdminMISStatusReport","res","respCode","totalcheckin","totalcheckout","totalPayment","totalVehicle","carIn","carOut","bikeIn","bikeOut","bicycleIn","bicycleOut","cashCount","onlineCount","noCashCount","overallCheckin","overallCheckout","overallPayment","vehicleArray","paymentValue","paymentArray","amountArray","vechicles","finalArray","checkin","checkout","payment","facilityname","i","vehicletype","vehiclecount","vehicleName","ifExist","findIndex","value","paymentmode","amountcollected","paymentName","objectToShow","facilityNameToShow","totalCarin","totalCarout","totalBikein","totalBikeout","totalBicyclein","totalBicycleout","dailyReport","totalCheckIn","totalCheckOut","totalCash","totalOnline","totalNoCash","totalAmount","getMonthlyMISAdminReport","AdminMonthlyMISStatusReport","handleChange","type","target","facilityName","handleTypeChange","handleDateChange","date","handleEndDateChange","endDate","handleRequestSort","isAsc","handleSelectAllClick","allBranch","checked","newSelecteds","n","selected","handleClick","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","newPage","page","handleChangeRowsPerPage","rowsPerPage","parseInt","age","Date","userDetails","loginToken","emptyRows","Math","min","isSelected","e","toString","PureComponent","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"date-fns\";\r\nimport {\r\n  Paper,\r\n  Box,\r\n  Typography,\r\n  Divider,\r\n  Container,\r\n  InputLabel,\r\n  Select,\r\n  FormControl,\r\n  FormHelperText,\r\n  MenuItem,\r\n  Grid,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport { Table, TextField, CircularProgress } from \"@material-ui/core\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport { connect } from \"react-redux\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { theme } from \"../../theme/light\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport ReactHTMLTableToExcel from \"react-html-table-to-excel\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\nimport UserService from \"../../services/user.service\";\r\nimport moment from \"moment\";\r\n\r\nconst useStyles = (theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      marginTop: theme.spacing(4),\r\n    },\r\n  },\r\n  roots: {\r\n    width: \"100%\",\r\n  },\r\n  paper: {\r\n    width: \"100%\",\r\n  },\r\n  papers: {\r\n    width: \"100%\",\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n\r\n  formControl: {\r\n    marginTop: theme.spacing(2),\r\n    minWidth: 300,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n});\r\n\r\nconst headCells = [\r\n  {\r\n    id: \"facilityName\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Facility Name\",\r\n  },\r\n  // {\r\n  //   id: \"vehicleType\",\r\n  //   numeric: false,\r\n  //   disablePadding: false,\r\n  //   label: \"Vehicle Type\",\r\n  // },\r\n  {\r\n    id: \"checkin\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Total Check In\",\r\n  },\r\n  {\r\n    id: \"checkout\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Total Check Out\",\r\n  },\r\n  {\r\n    id: \"total\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Total\",\r\n  },\r\n];\r\n\r\nconst paymentHeadCells = [\r\n  {\r\n    id: \"online\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Online\",\r\n  },\r\n  {\r\n    id: \"cash\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Cash\",\r\n  },\r\n  {\r\n    id: \"exempt\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Exempt\",\r\n  },\r\n  {\r\n    id: \"total\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"Total\",\r\n  },\r\n];\r\nlet rows = [];\r\nfunction EnhancedTableHead(props) {\r\n  const {\r\n    classes,\r\n    onSelectAllClick,\r\n    order,\r\n    orderBy,\r\n    numSelected,\r\n    rowCount,\r\n    onRequestSort,\r\n  } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {/* <TableCell padding=\"checkbox\">\r\n          <Checkbox\r\n            indeterminate={numSelected > 0 && numSelected < rowCount}\r\n            checked={rowCount > 0 && numSelected === rowCount}\r\n            onChange={onSelectAllClick}\r\n            inputProps={{ \"aria-label\": \"select all desserts\" }}\r\n          />\r\n        </TableCell> */}\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? \"right\" : \"left\"}\r\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : \"asc\"}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === \"desc\" ? \"sorted descending\" : \"sorted ascending\"}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  console.log(\"getComparator\", order);\r\n  return order === \"desc\"\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nclass Home extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      age: \"\",\r\n      startDate: new Date(),\r\n      endDate: new Date() + 1,\r\n      deviceuniqueid: \"Web\",\r\n      token: \"339CFB64EDC6E94C5577CD68319E72AB6732C711AE661427AC83931B33F05CC4\",\r\n      mappingList: [],\r\n      consolidates: \"\",\r\n      type: \"Daily\",\r\n      facilityid: \"0\",\r\n      dailyReport: [],\r\n      selected: [],\r\n      order: \"asc\",\r\n      orderBy: \"calories\",\r\n      selected: [],\r\n      page: 0,\r\n      rowsPerPage: 10,\r\n      names: [],\r\n      instanceId: \"0\",\r\n      facilityName: \"Consolidate\",\r\n      totalCheckIn: 0,\r\n      totalCheckOut: 0,\r\n      totalCash: 0,\r\n      totalOnline: 0,\r\n      totalNoCash: 0,\r\n      totalAmount: 0,\r\n      mISReport: [],\r\n      overallCheckin: 0,\r\n      overallCheckout: 0,\r\n      overallPayment: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { userDetails } = this.props;\r\n    const { loginToken, facilityid } = userDetails;\r\n\r\n    this.setState(\r\n      {\r\n        token: loginToken,\r\n        // facilityid: facilityid,\r\n      },\r\n      () => {\r\n        this.getRefreshMapping();\r\n\r\n        // this.getDailyAdminParkingStatusReport();\r\n      }\r\n    );\r\n  }\r\n\r\n  getRefreshMapping = async () => {\r\n    const { deviceuniqueid, token } = this.state;\r\n\r\n    try {\r\n      const response = await UserService.mapping(deviceuniqueid, token);\r\n      const { status, data } = response;\r\n      const { groupmapping } = data;\r\n      const { data: list } = groupmapping;\r\n      console.log(\"response after getRefreshMapping --> \", response);\r\n      if (data && list.length > 0) {\r\n        let id = [];\r\n        let names = [];\r\n        list.map((item, index) => {\r\n          id.push(item.facilityid);\r\n          names.push(item.name);\r\n        });\r\n        id = id.join(\",\");\r\n        this.setState(\r\n          {\r\n            mappingList: list,\r\n            consolidates: id,\r\n            names,\r\n          },\r\n          () => {\r\n            this.getDailyMISAdminReport();\r\n          }\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error getRefreshMapping\", error);\r\n    }\r\n  };\r\n\r\n  getDailyMISAdminReport = async () => {\r\n    const { token, facilityid, startDate, instanceId, consolidates } =\r\n      this.state;\r\n    console.log(\"datattatatatatatata\", facilityid, \"   \", consolidates);\r\n    let facilityidTosend = \"\";\r\n    if (facilityid === \"0\") {\r\n      facilityidTosend = consolidates;\r\n    } else {\r\n      facilityidTosend = facilityid;\r\n    }\r\n    let inputdate = moment(startDate).format(\"DD-MMM-YYYY\"); // 01-Oct-2022\r\n\r\n    try {\r\n      const response = await UserService.AdminMISStatusReport(\r\n        facilityidTosend,\r\n        token,\r\n        inputdate\r\n      );\r\n\r\n      console.log(\"response after getDailyMISAdminReport \", response);\r\n      const { data: res } = response;\r\n      const { data } = res;\r\n      if (res.respCode === 1 && data.length > 0) {\r\n        let totalcheckin = 0;\r\n        let totalcheckout = 0;\r\n        let totalPayment = 0;\r\n        let totalVehicle = 0;\r\n        let carIn = 0;\r\n        let carOut = 0;\r\n        let bikeIn = 0;\r\n        let bikeOut = 0;\r\n        let bicycleIn = 0;\r\n        let bicycleOut = 0;\r\n        let cashCount = 0;\r\n        let onlineCount = 0;\r\n        let noCashCount = 0;\r\n\r\n        let overallCheckin = 0;\r\n        let overallCheckout = 0;\r\n        let overallPayment = 0;\r\n\r\n        let vehicleArray = [];\r\n\r\n        const paymentValue = {\r\n          2: \"Cash\",\r\n          3: \"Online\",\r\n          5: \"Exempt\",\r\n        };\r\n        let paymentArray = [];\r\n\r\n        let amountArray = [];\r\n\r\n        const vechicles = {\r\n          1: \"Bike\",\r\n          2: \"Car\",\r\n          4: \"Bicycle\",\r\n        };\r\n\r\n        let finalArray = [];\r\n        for (let a = 0; a < data.length; a++) {\r\n          totalcheckin = 0;\r\n          totalcheckout = 0;\r\n          totalPayment = 0;\r\n          totalVehicle = 0;\r\n          carIn = 0;\r\n          carOut = 0;\r\n          bikeIn = 0;\r\n          bikeOut = 0;\r\n          bicycleIn = 0;\r\n          bicycleOut = 0;\r\n          cashCount = 0;\r\n          onlineCount = 0;\r\n          noCashCount = 0;\r\n\r\n          const { checkin, checkout, payment, facilityname } = data[a];\r\n          if (checkin) {\r\n            for (let i = 0; i < checkin.length; i++) {\r\n              const { vehicletype, vehiclecount } = checkin[i];\r\n              const vehicleName = vechicles[vehicletype];\r\n              const ifExist = vehicleArray.findIndex(\r\n                (value, index) => value === vehicleName\r\n              );\r\n              if (ifExist == -1) {\r\n                vehicleArray.push(vehicleName);\r\n              }\r\n\r\n              carIn = vehicleName == \"Car\" ? vehiclecount : carIn;\r\n              bikeIn = vehicleName == \"Bike\" ? vehiclecount : bikeIn;\r\n              bicycleIn = vehicleName == \"Bicycle\" ? vehiclecount : bicycleIn;\r\n\r\n              totalcheckin = totalcheckin + vehiclecount;\r\n            }\r\n            console.log(\"checkin data\", carIn);\r\n          }\r\n          if (checkout) {\r\n            for (let i = 0; i < checkout.length; i++) {\r\n              const { vehicletype, vehiclecount } = checkout[i];\r\n              const vehicleName = vechicles[vehicletype];\r\n              const ifExist = vehicleArray.findIndex(\r\n                (value, index) => value === vehicleName\r\n              );\r\n              if (ifExist == -1) {\r\n                vehicleArray.push(vehicleName);\r\n              }\r\n\r\n              carOut = vehicleName == \"Car\" ? vehiclecount : carOut;\r\n              bikeOut = vehicleName == \"Bike\" ? vehiclecount : bikeOut;\r\n              bicycleOut = vehicleName == \"Bicycle\" ? vehiclecount : bicycleOut;\r\n\r\n              totalcheckout = totalcheckout + vehiclecount;\r\n            }\r\n          }\r\n\r\n          if (payment) {\r\n            for (let i = 0; i < payment.length; i++) {\r\n              const { paymentmode, amountcollected } = payment[i];\r\n              const paymentName = paymentValue[paymentmode];\r\n              const ifExist = paymentArray.findIndex(\r\n                (value, index) => value === paymentName\r\n              );\r\n              if (ifExist == -1) {\r\n                paymentArray.push(paymentName);\r\n              }\r\n\r\n              cashCount =\r\n                paymentName == \"Cash\" ? amountcollected / 100 : cashCount;\r\n              onlineCount =\r\n                paymentName == \"Online\" ? amountcollected / 100 : onlineCount;\r\n              noCashCount =\r\n                paymentName == \"Exempt\" ? amountcollected / 100 : noCashCount;\r\n\r\n              if (cashCount !== 0) {\r\n                amountArray.push(cashCount);\r\n              } else if (onlineCount !== 0) {\r\n                amountArray.push(onlineCount);\r\n              } else if (noCashCount !== 0) {\r\n                amountArray.push(noCashCount);\r\n              }\r\n\r\n              if (paymentmode !== 5) {\r\n                totalPayment = totalPayment + amountcollected / 100;\r\n              }\r\n            }\r\n          }\r\n\r\n          overallCheckin = overallCheckin + totalcheckin;\r\n          overallCheckout = overallCheckout + totalcheckout;\r\n          overallPayment = overallPayment + totalPayment;\r\n          let objectToShow = {\r\n            facilityNameToShow: facilityname,\r\n            totalCarin: carIn,\r\n            totalCarout: carOut,\r\n            totalBikein: bikeIn,\r\n            totalBikeout: bikeOut,\r\n            totalBicyclein: bicycleIn,\r\n            totalBicycleout: bicycleOut,\r\n            totalPayment,\r\n            totalcheckin,\r\n            totalcheckout,\r\n          };\r\n\r\n          finalArray.push(objectToShow);\r\n        }\r\n\r\n        this.setState({\r\n          dailyReport: finalArray,\r\n          overallCheckin,\r\n          overallCheckout,\r\n          overallPayment,\r\n          totalCheckIn: totalcheckin,\r\n          totalCheckOut: totalcheckout,\r\n          totalCash: cashCount,\r\n          totalOnline: onlineCount,\r\n          totalNoCash: noCashCount,\r\n          totalAmount: totalPayment,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error getDailyMISAdminReport\", error);\r\n    }\r\n  };\r\n\r\n  getMonthlyMISAdminReport = async () => {\r\n    const { token, facilityid, startDate, instanceId, consolidates } =\r\n      this.state;\r\n\r\n    let facilityidTosend = \"\";\r\n    if (facilityid === \"0\") {\r\n      facilityidTosend = consolidates;\r\n    } else {\r\n      facilityidTosend = facilityid;\r\n    }\r\n    let inputdate = moment(startDate).format(\"MMM-YYYY\"); // 01-Oct-2022\r\n\r\n    try {\r\n      const response = await UserService.AdminMonthlyMISStatusReport(\r\n        facilityidTosend,\r\n        token,\r\n        inputdate\r\n      );\r\n\r\n      console.log(\"response after getMonthlyMISAdminReport \", response);\r\n\r\n      const { data: res } = response;\r\n      const { data } = res;\r\n      if (res.respCode === 1 && data.length > 0) {\r\n        let totalcheckin = 0;\r\n        let totalcheckout = 0;\r\n        let totalPayment = 0;\r\n        let totalVehicle = 0;\r\n        let carIn = 0;\r\n        let carOut = 0;\r\n        let bikeIn = 0;\r\n        let bikeOut = 0;\r\n        let bicycleIn = 0;\r\n        let bicycleOut = 0;\r\n        let cashCount = 0;\r\n        let onlineCount = 0;\r\n        let noCashCount = 0;\r\n\r\n        let overallCheckin = 0;\r\n        let overallCheckout = 0;\r\n        let overallPayment = 0;\r\n\r\n        let vehicleArray = [];\r\n\r\n        const paymentValue = {\r\n          2: \"Cash\",\r\n          3: \"Online\",\r\n          5: \"Exempt\",\r\n        };\r\n        let paymentArray = [];\r\n\r\n        let amountArray = [];\r\n\r\n        const vechicles = {\r\n          1: \"Bike\",\r\n          2: \"Car\",\r\n          4: \"Bicycle\",\r\n        };\r\n\r\n        let finalArray = [];\r\n        for (let a = 0; a < data.length; a++) {\r\n          totalcheckin = 0;\r\n          totalcheckout = 0;\r\n          totalPayment = 0;\r\n          totalVehicle = 0;\r\n          carIn = 0;\r\n          carOut = 0;\r\n          bikeIn = 0;\r\n          bikeOut = 0;\r\n          bicycleIn = 0;\r\n          bicycleOut = 0;\r\n          cashCount = 0;\r\n          onlineCount = 0;\r\n          noCashCount = 0;\r\n\r\n          const { checkin, checkout, payment, facilityname } = data[a];\r\n          if (checkin) {\r\n            for (let i = 0; i < checkin.length; i++) {\r\n              const { vehicletype, vehiclecount } = checkin[i];\r\n              const vehicleName = vechicles[vehicletype];\r\n              const ifExist = vehicleArray.findIndex(\r\n                (value, index) => value === vehicleName\r\n              );\r\n              if (ifExist == -1) {\r\n                vehicleArray.push(vehicleName);\r\n              }\r\n\r\n              carIn = vehicleName == \"Car\" ? vehiclecount : carIn;\r\n              bikeIn = vehicleName == \"Bike\" ? vehiclecount : bikeIn;\r\n              bicycleIn = vehicleName == \"Bicycle\" ? vehiclecount : bicycleIn;\r\n\r\n              totalcheckin = totalcheckin + vehiclecount;\r\n            }\r\n            console.log(\"checkin data\", carIn);\r\n          }\r\n          if (checkout) {\r\n            for (let i = 0; i < checkout.length; i++) {\r\n              const { vehicletype, vehiclecount } = checkout[i];\r\n              const vehicleName = vechicles[vehicletype];\r\n              const ifExist = vehicleArray.findIndex(\r\n                (value, index) => value === vehicleName\r\n              );\r\n              if (ifExist == -1) {\r\n                vehicleArray.push(vehicleName);\r\n              }\r\n\r\n              carOut = vehicleName == \"Car\" ? vehiclecount : carOut;\r\n              bikeOut = vehicleName == \"Bike\" ? vehiclecount : bikeOut;\r\n              bicycleOut = vehicleName == \"Bicycle\" ? vehiclecount : bicycleOut;\r\n\r\n              totalcheckout = totalcheckout + vehiclecount;\r\n            }\r\n          }\r\n\r\n          if (payment) {\r\n            for (let i = 0; i < payment.length; i++) {\r\n              const { paymentmode, amountcollected } = payment[i];\r\n              const paymentName = paymentValue[paymentmode];\r\n              const ifExist = paymentArray.findIndex(\r\n                (value, index) => value === paymentName\r\n              );\r\n              if (ifExist == -1) {\r\n                paymentArray.push(paymentName);\r\n              }\r\n\r\n              cashCount =\r\n                paymentName == \"Cash\" ? amountcollected / 100 : cashCount;\r\n              onlineCount =\r\n                paymentName == \"Online\" ? amountcollected / 100 : onlineCount;\r\n              noCashCount =\r\n                paymentName == \"Exempt\" ? amountcollected / 100 : noCashCount;\r\n\r\n              if (cashCount !== 0) {\r\n                amountArray.push(cashCount);\r\n              } else if (onlineCount !== 0) {\r\n                amountArray.push(onlineCount);\r\n              } else if (noCashCount !== 0) {\r\n                amountArray.push(noCashCount);\r\n              }\r\n\r\n              if (paymentmode !== 5) {\r\n                totalPayment = totalPayment + amountcollected / 100;\r\n              }\r\n            }\r\n          }\r\n\r\n          overallCheckin = overallCheckin + totalcheckin;\r\n          overallCheckout = overallCheckout + totalcheckout;\r\n          overallPayment = overallPayment + totalPayment;\r\n          let objectToShow = {\r\n            facilityNameToShow: facilityname,\r\n            totalCarin: carIn,\r\n            totalCarout: carOut,\r\n            totalBikein: bikeIn,\r\n            totalBikeout: bikeOut,\r\n            totalBicyclein: bicycleIn,\r\n            totalBicycleout: bicycleOut,\r\n            totalPayment,\r\n            totalcheckin,\r\n            totalcheckout,\r\n          };\r\n\r\n          finalArray.push(objectToShow);\r\n        }\r\n\r\n        this.setState({\r\n          dailyReport: finalArray,\r\n          overallCheckin,\r\n          overallCheckout,\r\n          overallPayment,\r\n          totalCheckIn: totalcheckin,\r\n          totalCheckOut: totalcheckout,\r\n          totalCash: cashCount,\r\n          totalOnline: onlineCount,\r\n          totalNoCash: noCashCount,\r\n          totalAmount: totalPayment,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error getMonthlyMISAdminReport\", error);\r\n    }\r\n  };\r\n\r\n  // getDailyAdminParkingStatusReport = async () => {\r\n  //   const { token, facilityid, startDate } = this.state;\r\n\r\n  //   let inputdatetime = moment(startDate).format(\"DD-MMM-YYYY\"); // 01-Oct-2022\r\n\r\n  //   try {\r\n  //     const response = await UserService.AdminParkingStatusReport(\r\n  //       facilityid,\r\n  //       token,\r\n  //       inputdatetime\r\n  //     );\r\n\r\n  //     console.log(\"response after getDailyAdminParkingStatusReport \", response);\r\n  //     const { data: res } = response;\r\n  //     if (res.respCode === 1 && res) {\r\n  //       const { checkin, checkout, payment } = res;\r\n\r\n  //       let totalcheckin = 0;\r\n  //       let totalcheckout = 0;\r\n  //       let totalPayment = 0;\r\n  //       let totalVehicle = 0;\r\n  //       let carIn = 0;\r\n  //       let carOut = 0;\r\n  //       let bikeIn = 0;\r\n  //       let bikeOut = 0;\r\n  //       let bicycleIn = 0;\r\n  //       let bicycleOut = 0;\r\n  //       let autoIn = 0;\r\n  //       let autoOut = 0;\r\n\r\n  //       let vehicleArray = [];\r\n  //       const vechicles = {\r\n  //         1: \"Bike\",\r\n  //         2: \"Car\",\r\n  //         3: \"Auto\",\r\n  //         4: \"Bicycle\",\r\n  //       };\r\n  //       if (checkin) {\r\n  //         for (let i = 0; i < checkin.length; i++) {\r\n  //           const { vehicletype, vehiclecount } = checkin[i];\r\n  //           const vehicleName = vechicles[vehicletype];\r\n  //           const ifExist = vehicleArray.findIndex(\r\n  //             (value, index) => value === vehicleName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             vehicleArray.push(vehicleName);\r\n  //           }\r\n\r\n  //           carIn = vehicleName == \"Car\" ? vehiclecount : carIn;\r\n  //           bikeIn = vehicleName == \"Bike\" ? vehiclecount : bikeIn;\r\n  //           bicycleIn = vehicleName == \"Bicycle\" ? vehiclecount : bicycleIn;\r\n  //           autoIn = vehicleName == \"Auto\" ? vehiclecount : autoIn;\r\n\r\n  //           totalcheckin = totalcheckin + vehiclecount;\r\n  //         }\r\n  //         console.log(\"checkin data\", carIn);\r\n  //       }\r\n  //       if (checkout) {\r\n  //         for (let i = 0; i < checkout.length; i++) {\r\n  //           const { vehicletype, vehiclecount } = checkout[i];\r\n  //           const vehicleName = vechicles[vehicletype];\r\n  //           const ifExist = vehicleArray.findIndex(\r\n  //             (value, index) => value === vehicleName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             vehicleArray.push(vehicleName);\r\n  //           }\r\n\r\n  //           carOut = vehicleName == \"Car\" ? vehiclecount : carOut;\r\n  //           bikeOut = vehicleName == \"Bike\" ? vehiclecount : bikeOut;\r\n  //           bicycleOut = vehicleName == \"Bicycle\" ? vehiclecount : bicycleOut;\r\n  //           autoOut = vehicleName == \"Auto\" ? vehiclecount : autoOut;\r\n\r\n  //           totalcheckout = totalcheckout + vehiclecount;\r\n  //         }\r\n  //       }\r\n\r\n  //       const paymentValue = {\r\n  //         2: \"Cash\",\r\n  //         3: \"Online\",\r\n  //         5: \"Exempt\",\r\n  //       };\r\n  //       let paymentArray = [];\r\n  //       // let colorArray = [(opacity = 1) => `#2E7D32`,(opacity = 1) => `#FD0002`,(opacity = 1) => `#00266B`];\r\n  //       let colorArray = [];\r\n\r\n  //       let amountArray = [];\r\n  //       let cashCount = 0;\r\n  //       let onlineCount = 0;\r\n  //       let noCashCount = 0;\r\n\r\n  //       if (payment) {\r\n  //         for (let i = 0; i < payment.length; i++) {\r\n  //           const { paymentmode, amountcollected } = payment[i];\r\n  //           const paymentName = paymentValue[paymentmode];\r\n  //           const ifExist = paymentArray.findIndex(\r\n  //             (value, index) => value === paymentName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             paymentArray.push(paymentName);\r\n  //           }\r\n\r\n  //           cashCount =\r\n  //             paymentName == \"Cash\" ? amountcollected / 100 : cashCount;\r\n  //           onlineCount =\r\n  //             paymentName == \"Online\" ? amountcollected / 100 : onlineCount;\r\n  //           noCashCount =\r\n  //             paymentName == \"Exempt\" ? amountcollected / 100 : noCashCount;\r\n\r\n  //           if (cashCount !== 0) {\r\n  //             amountArray.push(cashCount);\r\n  //           } else if (onlineCount !== 0) {\r\n  //             amountArray.push(onlineCount);\r\n  //           } else if (noCashCount !== 0) {\r\n  //             amountArray.push(noCashCount);\r\n  //           }\r\n  //           if (paymentmode === 2) {\r\n  //             colorArray.push((opacity = 1) => `#2E7D32`);\r\n  //           } else if (paymentmode === 3) {\r\n  //             colorArray.push((opacity = 1) => `#FD0002`);\r\n  //           } else if (paymentmode === 5) {\r\n  //             colorArray.push((opacity = 1) => `#00266B`);\r\n  //           }\r\n  //           if (paymentmode !== 5) {\r\n  //             totalPayment = totalPayment + amountcollected / 100;\r\n  //           }\r\n  //         }\r\n  //       }\r\n\r\n  //       let finalArray = [];\r\n\r\n  //       let objCar = {\r\n  //         name: \"Car\",\r\n  //         totalin: carIn,\r\n  //         totalout: carOut,\r\n  //       };\r\n  //       finalArray.push(objCar);\r\n  //       let objBike = {\r\n  //         name: \"Bike\",\r\n  //         totalin: bikeIn,\r\n  //         totalout: bikeOut,\r\n  //       };\r\n  //       finalArray.push(objBike);\r\n  //       let objBicycle = {\r\n  //         name: \"Bicycle\",\r\n  //         totalin: bicycleIn,\r\n  //         totalout: bicycleOut,\r\n  //       };\r\n  //       finalArray.push(objBicycle);\r\n\r\n  //       this.setState({\r\n  //         dailyReport: finalArray,\r\n  //         totalCheckIn: totalcheckin,\r\n  //         totalCheckOut: totalcheckout,\r\n  //         totalCash: cashCount,\r\n  //         totalOnline: onlineCount,\r\n  //         totalNoCash: noCashCount,\r\n  //         totalAmount: totalPayment,\r\n  //       });\r\n  //     }\r\n  //   } catch (error) {\r\n  //     console.log(\"error getDailyAdminParkingStatusReport\", error);\r\n  //   }\r\n  // };\r\n\r\n  // getMonthlyAdminParkingStatusReport = async (inputdate) => {\r\n  //   const { token, facilityid, startDate } = this.state;\r\n  //   let inputdatetime = moment(inputdate).format(\"MMM-YYYY\"); // 01-Oct-2022\r\n\r\n  //   try {\r\n  //     const response = await UserService.AdminMonthlyParkingStatusReport(\r\n  //       facilityid,\r\n  //       token,\r\n  //       inputdatetime\r\n  //     );\r\n\r\n  //     console.log(\r\n  //       \"response after getMonthlyAdminParkingStatusReport \",\r\n  //       response\r\n  //     );\r\n  //     const { data: res } = response;\r\n  //     if (res.respCode === 1 && res) {\r\n  //       const { checkin, checkout, payment } = res;\r\n\r\n  //       let totalcheckin = 0;\r\n  //       let totalcheckout = 0;\r\n  //       let totalPayment = 0;\r\n  //       let totalVehicle = 0;\r\n  //       let carIn = 0;\r\n  //       let carOut = 0;\r\n  //       let bikeIn = 0;\r\n  //       let bikeOut = 0;\r\n  //       let bicycleIn = 0;\r\n  //       let bicycleOut = 0;\r\n  //       let autoIn = 0;\r\n  //       let autoOut = 0;\r\n\r\n  //       let vehicleArray = [];\r\n  //       const vechicles = {\r\n  //         1: \"Bike\",\r\n  //         2: \"Car\",\r\n  //         3: \"Auto\",\r\n  //         4: \"Bicycle\",\r\n  //       };\r\n  //       if (checkin) {\r\n  //         for (let i = 0; i < checkin.length; i++) {\r\n  //           const { vehicletype, vehiclecount } = checkin[i];\r\n  //           const vehicleName = vechicles[vehicletype];\r\n  //           const ifExist = vehicleArray.findIndex(\r\n  //             (value, index) => value === vehicleName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             vehicleArray.push(vehicleName);\r\n  //           }\r\n\r\n  //           carIn = vehicleName == \"Car\" ? vehiclecount : carIn;\r\n  //           bikeIn = vehicleName == \"Bike\" ? vehiclecount : bikeIn;\r\n  //           bicycleIn = vehicleName == \"Bicycle\" ? vehiclecount : bicycleIn;\r\n  //           autoIn = vehicleName == \"Auto\" ? vehiclecount : autoIn;\r\n\r\n  //           totalcheckin = totalcheckin + vehiclecount;\r\n  //         }\r\n  //         console.log(\"checkin data\", carIn);\r\n  //       }\r\n  //       if (checkout) {\r\n  //         for (let i = 0; i < checkout.length; i++) {\r\n  //           const { vehicletype, vehiclecount } = checkout[i];\r\n  //           const vehicleName = vechicles[vehicletype];\r\n  //           const ifExist = vehicleArray.findIndex(\r\n  //             (value, index) => value === vehicleName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             vehicleArray.push(vehicleName);\r\n  //           }\r\n\r\n  //           carOut = vehicleName == \"Car\" ? vehiclecount : carOut;\r\n  //           bikeOut = vehicleName == \"Bike\" ? vehiclecount : bikeOut;\r\n  //           bicycleOut = vehicleName == \"Bicycle\" ? vehiclecount : bicycleOut;\r\n  //           autoOut = vehicleName == \"Auto\" ? vehiclecount : autoOut;\r\n\r\n  //           totalcheckout = totalcheckout + vehiclecount;\r\n  //         }\r\n  //       }\r\n\r\n  //       const paymentValue = {\r\n  //         2: \"Cash\",\r\n  //         3: \"Online\",\r\n  //         5: \"Exempt\",\r\n  //       };\r\n  //       let paymentArray = [];\r\n  //       // let colorArray = [(opacity = 1) => `#2E7D32`,(opacity = 1) => `#FD0002`,(opacity = 1) => `#00266B`];\r\n  //       let colorArray = [];\r\n\r\n  //       let amountArray = [];\r\n  //       let cashCount = 0;\r\n  //       let onlineCount = 0;\r\n  //       let noCashCount = 0;\r\n\r\n  //       if (payment) {\r\n  //         for (let i = 0; i < payment.length; i++) {\r\n  //           const { paymentmode, amountcollected } = payment[i];\r\n  //           const paymentName = paymentValue[paymentmode];\r\n  //           const ifExist = paymentArray.findIndex(\r\n  //             (value, index) => value === paymentName\r\n  //           );\r\n  //           if (ifExist == -1) {\r\n  //             paymentArray.push(paymentName);\r\n  //           }\r\n\r\n  //           cashCount =\r\n  //             paymentName == \"Cash\" ? amountcollected / 100 : cashCount;\r\n  //           onlineCount =\r\n  //             paymentName == \"Online\" ? amountcollected / 100 : onlineCount;\r\n  //           noCashCount =\r\n  //             paymentName == \"Exempt\" ? amountcollected / 100 : noCashCount;\r\n\r\n  //           if (cashCount !== 0) {\r\n  //             amountArray.push(cashCount);\r\n  //           } else if (onlineCount !== 0) {\r\n  //             amountArray.push(onlineCount);\r\n  //           } else if (noCashCount !== 0) {\r\n  //             amountArray.push(noCashCount);\r\n  //           }\r\n  //           if (paymentmode === 2) {\r\n  //             colorArray.push((opacity = 1) => `#2E7D32`);\r\n  //           } else if (paymentmode === 3) {\r\n  //             colorArray.push((opacity = 1) => `#FD0002`);\r\n  //           } else if (paymentmode === 5) {\r\n  //             colorArray.push((opacity = 1) => `#00266B`);\r\n  //           }\r\n  //           if (paymentmode !== 5) {\r\n  //             totalPayment = totalPayment + amountcollected / 100;\r\n  //           }\r\n  //         }\r\n  //       }\r\n\r\n  //       let finalArray = [];\r\n\r\n  //       let objCar = {\r\n  //         name: \"Car\",\r\n  //         totalin: carIn,\r\n  //         totalout: carOut,\r\n  //       };\r\n  //       finalArray.push(objCar);\r\n  //       let objBike = {\r\n  //         name: \"Bike\",\r\n  //         totalin: bikeIn,\r\n  //         totalout: bikeOut,\r\n  //       };\r\n  //       finalArray.push(objBike);\r\n  //       let objBicycle = {\r\n  //         name: \"Bicycle\",\r\n  //         totalin: bicycleIn,\r\n  //         totalout: bicycleOut,\r\n  //       };\r\n  //       finalArray.push(objBicycle);\r\n\r\n  //       this.setState({\r\n  //         dailyReport: finalArray,\r\n  //         totalCheckIn: totalcheckin,\r\n  //         totalCheckOut: totalcheckout,\r\n  //         totalCash: cashCount,\r\n  //         totalOnline: onlineCount,\r\n  //         totalNoCash: noCashCount,\r\n  //         totalAmount: totalPayment,\r\n  //       });\r\n  //     }\r\n  //   } catch (error) {\r\n  //     console.log(\"error getMonthlyAdminParkingStatusReport\", error);\r\n  //   }\r\n  // };\r\n\r\n  handleChange = (event) => {\r\n    const { mappingList, type } = this.state;\r\n\r\n    console.log(\"first\", event.target.value);\r\n    let name = \"\";\r\n    for (let i = 0; i < mappingList.length; i++) {\r\n      console.log(\"first\", mappingList[i][\"facilityid\"]);\r\n      if (event.target.value === mappingList[i][\"facilityid\"]) {\r\n        name = mappingList[i][\"name\"];\r\n      }\r\n    }\r\n    if (!name) {\r\n      name = \"Consolidate\";\r\n    }\r\n    console.log(\"name\", name);\r\n    this.setState(\r\n      {\r\n        facilityid: event.target.value,\r\n        facilityName: name,\r\n        dailyReport: [],\r\n        totalCheckIn: 0,\r\n        totalCheckOut: 0,\r\n        totalCash: 0,\r\n        totalOnline: 0,\r\n        totalNoCash: 0,\r\n        totalAmount: 0,\r\n        overallCheckin: 0,\r\n        overallCheckout: 0,\r\n        overallPayment: 0,\r\n      },\r\n      () => {\r\n        if (type === \"Daily\") {\r\n          this.getDailyMISAdminReport();\r\n          // this.getDailyAdminParkingStatusReport();\r\n        } else {\r\n          // this.getMonthlyAdminParkingStatusReport();\r\n          this.getMonthlyMISAdminReport();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  handleTypeChange = (event) => {\r\n    this.setState(\r\n      {\r\n        type: event.target.value,\r\n        dailyReport: [],\r\n        totalCheckIn: 0,\r\n        totalCheckOut: 0,\r\n        totalCash: 0,\r\n        totalOnline: 0,\r\n        totalNoCash: 0,\r\n        totalAmount: 0,\r\n        overallCheckin: 0,\r\n        overallCheckout: 0,\r\n        overallPayment: 0,\r\n      },\r\n      () => {\r\n        if (event.target.value === \"Daily\") {\r\n          //this.getDailyAdminParkingStatusReport();\r\n          this.getDailyMISAdminReport();\r\n        } else {\r\n          // this.getMonthlyAdminParkingStatusReport();\r\n          this.getMonthlyMISAdminReport();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  handleDateChange = (date) => {\r\n    const { type } = this.state;\r\n    console.log(date);\r\n    this.setState(\r\n      {\r\n        startDate: date,\r\n        dailyReport: [],\r\n        totalCheckIn: 0,\r\n        totalCheckOut: 0,\r\n        totalCash: 0,\r\n        totalOnline: 0,\r\n        totalNoCash: 0,\r\n        totalAmount: 0,\r\n        overallCheckin: 0,\r\n        overallCheckout: 0,\r\n        overallPayment: 0,\r\n        //endDate: date + 1,\r\n      },\r\n      () => {\r\n        if (type === \"Daily\") {\r\n          //this.getDailyAdminParkingStatusReport();\r\n          this.getDailyMISAdminReport();\r\n        } else {\r\n          // this.getMonthlyAdminParkingStatusReport();\r\n          this.getMonthlyMISAdminReport();\r\n        }\r\n      }\r\n    );\r\n  };\r\n  handleEndDateChange = (date) => {\r\n    this.setState({\r\n      endDate: date,\r\n    });\r\n  };\r\n\r\n  handleRequestSort = (event, property) => {\r\n    const { orderBy, order } = this.state;\r\n    const isAsc = orderBy === property && order === \"asc\";\r\n    this.setState({\r\n      order: isAsc ? \"desc\" : \"asc\",\r\n    });\r\n    this.setState({\r\n      orderBy: property,\r\n    });\r\n  };\r\n\r\n  handleSelectAllClick = (event) => {\r\n    const { allBranch } = this.state;\r\n    if (event.target.checked) {\r\n      const newSelecteds = allBranch.map((n) => n.id);\r\n\r\n      this.setState({\r\n        selected: newSelecteds,\r\n      });\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleClick = (event, name) => {\r\n    const { selected } = this.state;\r\n    console.log(selected);\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    this.setState({\r\n      selected: newSelected,\r\n    });\r\n  };\r\n\r\n  handleChangePage = (event, newPage) => {\r\n    this.setState({ page: newPage });\r\n  };\r\n\r\n  handleChangeRowsPerPage = (event) => {\r\n    this.setState({ rowsPerPage: parseInt(event.target.value, 10) });\r\n\r\n    this.setState({ page: 0 });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const {\r\n      instanceId,\r\n      startDate,\r\n      endDate,\r\n      mappingList,\r\n      type,\r\n      rowsPerPage,\r\n      page,\r\n      selected,\r\n      orderBy,\r\n      order,\r\n      dailyReport,\r\n      facilityName,\r\n      totalCheckIn,\r\n      totalCheckOut,\r\n      totalCash,\r\n      totalOnline,\r\n      totalNoCash,\r\n      totalAmount,\r\n      overallCheckin,\r\n      overallCheckout,\r\n      overallPayment,\r\n      facilityid,\r\n    } = this.state;\r\n\r\n    console.log(\"dailyReportdailyReportdailyReport\", dailyReport);\r\n    const rows = dailyReport;\r\n    const emptyRows =\r\n      rowsPerPage -\r\n      Math.min(rowsPerPage, dailyReport.length - page * rowsPerPage);\r\n\r\n    const isSelected = (id) => selected.indexOf(id) !== -1;\r\n\r\n    console.log(\"mappingList\", mappingList, \" type\", type);\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Box className=\"container\" p={2.5} bgcolor=\"primary.lightBgContainer\">\r\n          <Paper className=\"content lead-page\">\r\n            <Box className=\"page-heading\" mb={3}>\r\n              <Box color=\"text.secondary\" pt={3} pr={2.7} pb={1.8} pl={3}>\r\n                <Typography variant=\"h6\" gutterBottom color=\"inherit\">\r\n                  Dashboard\r\n                </Typography>\r\n              </Box>\r\n              <Divider />\r\n            </Box>\r\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n              <Grid container justifyContent=\"space-evenly\">\r\n                <FormControl variant=\"standard\" className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"age-native-simple\">\r\n                    Select Facility\r\n                  </InputLabel>\r\n                  <Select\r\n                    native\r\n                    value={facilityid}\r\n                    placeholder={\"Facility Name\"}\r\n                    onChange={(e, index) => {\r\n                      this.handleChange(e);\r\n                    }}\r\n                  >\r\n                    <option value=\"0\">Consolidated</option>\r\n\r\n                    {mappingList.map((data, index) => {\r\n                      return (\r\n                        <option key={index.toString()} value={data.facilityid}>\r\n                          {data.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </Select>\r\n                </FormControl>\r\n                <FormControl variant=\"standard\" className={classes.formControl}>\r\n                  <InputLabel htmlFor=\"age-native-simple\">\r\n                    Select Type\r\n                  </InputLabel>\r\n                  <Select\r\n                    native\r\n                    value={type}\r\n                    placeholder={\"Age\"}\r\n                    onChange={(e) => this.handleTypeChange(e)}\r\n                  >\r\n                    {/* <option aria-label=\"None\" value=\"NA\" /> */}\r\n                    <option value={\"Daily\"}>Daily</option>\r\n                    <option value={\"Monthly\"}>Monthly</option>\r\n                  </Select>\r\n                </FormControl>\r\n\r\n                <KeyboardDatePicker\r\n                  disableToolbar\r\n                  variant=\"inline\"\r\n                  format=\"dd/MM/yyyy\"\r\n                  margin=\"normal\"\r\n                  id=\"date-picker-inline\"\r\n                  label=\"Date\"\r\n                  value={startDate}\r\n                  onChange={(date) => this.handleDateChange(date)}\r\n                  KeyboardButtonProps={{\r\n                    \"aria-label\": \"change date\",\r\n                  }}\r\n                />\r\n                {/* <KeyboardDatePicker\r\n                  disableToolbar\r\n                  variant=\"inline\"\r\n                  format=\"dd/MM/yyyy\"\r\n                  margin=\"normal\"\r\n                  id=\"date-picker-inline\"\r\n                  label=\"End Date\"\r\n                  minDate={startDate}\r\n                  value={endDate}\r\n                  onChange={(date) => this.handleEndDateChange(date)}\r\n                  KeyboardButtonProps={{\r\n                    \"aria-label\": \"change date\",\r\n                  }}\r\n                /> */}\r\n                {/* <div className={classes.root}>\r\n                  <Button variant=\"contained\" size=\"small\" color=\"primary\">\r\n                    Submit\r\n                  </Button>\r\n                </div> */}\r\n              </Grid>\r\n            </MuiPickersUtilsProvider>\r\n\r\n            {/* <div className=\"data-table\">\r\n              <div className={classes.roots}>\r\n                <Paper className={classes.papers} elevation={0}>\r\n                  <TableContainer>\r\n                    <Table\r\n                      className={classes.table}\r\n                      aria-labelledby=\"tableTitle\"\r\n                      aria-label=\"enhanced table\"\r\n                    >\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          {headCells.map((headCell) => (\r\n                            <TableCell\r\n                              key={headCell.id}\r\n                              align={\"left\"}\r\n                              padding={\"none\"}\r\n                            >\r\n                              <TableSortLabel>{headCell.label}</TableSortLabel>\r\n                            </TableCell>\r\n                          ))}\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        {rows.map((Lead, index) => {\r\n                          console.log(\"first\", Lead);\r\n                          const isItemSelected = isSelected(Lead.id);\r\n                          const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n                          return (\r\n                            <TableRow\r\n                              hover\r\n                              tabIndex={-1}\r\n                              key={index}\r\n                              selected={isItemSelected}\r\n                            >\r\n                              <TableCell\r\n                                component=\"th\"\r\n                                id={labelId}\r\n                                scope=\"row\"\r\n                                padding=\"none\"\r\n                                align=\"left\"\r\n                                color=\"green\"\r\n                              >\r\n                                {facilityName}\r\n                              </TableCell>\r\n                              <TableCell\r\n                                component=\"th\"\r\n                                id={labelId}\r\n                                scope=\"row\"\r\n                                padding=\"none\"\r\n                                align=\"left\"\r\n                                color=\"green\"\r\n                              >\r\n                                {Lead.name}\r\n                              </TableCell>\r\n                              <TableCell align=\"left\">{Lead.totalin}</TableCell>\r\n                              <TableCell align=\"left\">\r\n                                {Lead.totalout}\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          );\r\n                        })}\r\n                        {instanceId ? null : (\r\n                          <TableRow>\r\n                            <TableCell colSpan={1}>Total</TableCell>\r\n                            <TableCell align=\"left\">{totalCheckIn}</TableCell>\r\n                            <TableCell align=\"left\">{totalCheckOut}</TableCell>\r\n                            <TableCell align=\"left\">{totalAmount}</TableCell>\r\n                          </TableRow>\r\n                        )}\r\n\r\n                        <TableRow>\r\n                          <TableCell>Tax</TableCell>\r\n                          <TableCell align=\"right\">rate</TableCell>\r\n                          <TableCell align=\"right\">ohh</TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                          <TableCell colSpan={2}>Total</TableCell>\r\n                          <TableCell align=\"right\">ok</TableCell>\r\n                        </TableRow>\r\n                        {emptyRows > 0 && (\r\n                          <TableRow>\r\n                            <TableCell colSpan={6} />\r\n                          </TableRow>\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                </Paper>\r\n              </div>\r\n            </div> */}\r\n            <div>\r\n              <ReactHTMLTableToExcel\r\n                id=\"test-table-xls-button\"\r\n                className=\"download-table-xls-button\"\r\n                table=\"emp\"\r\n                filename=\"tablexls\"\r\n                sheet=\"tablexls\"\r\n                buttonText=\"Download as XLS\"\r\n              />\r\n\r\n              <table id=\"emp\" className=\"table all_domain_table\">\r\n                <thead className=\"text-white bg-gray-700\">\r\n                  <tr>\r\n                    <th className=\"above-column\">Facility Name</th>\r\n\r\n                    <th colspan=\"3\" className=\"above-column\">\r\n                      Total Check In\r\n                    </th>\r\n\r\n                    <th colspan=\"3\" className=\"above-column\">\r\n                      Total Check Out\r\n                    </th>\r\n\r\n                    <th className=\"above-column\">Payment (Rs)</th>\r\n                  </tr>\r\n                </thead>\r\n                {rows.map((data, index) => {\r\n                  console.log(\"dataToLoad\", data);\r\n                  const {\r\n                    facilityNameToShow,\r\n                    totalBicyclein,\r\n                    totalBicycleout,\r\n                    totalBikein,\r\n                    totalBikeout,\r\n                    totalCarin,\r\n                    totalCarout,\r\n                    totalPayment,\r\n                    totalcheckin,\r\n                    totalcheckout,\r\n                  } = data;\r\n                  return (\r\n                    <>\r\n                      <tr>\r\n                        <td rowspan=\"2\">{facilityNameToShow}</td>\r\n                        <td colspan=\"3\">{totalcheckin}</td>\r\n                        <td colspan=\"3\">{totalcheckout}</td>\r\n                        <td rowspan=\"2\">{totalPayment}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Car: {totalCarin}</td>\r\n                        <td>Bike: {totalBikein}</td>\r\n                        <td>Bicycle: {totalBicyclein}</td>\r\n                        <td>Car: {totalCarout}</td>\r\n                        <td>Bike: {totalBikeout}</td>\r\n                        <td>Bicycle: {totalBicycleout}</td>\r\n                      </tr>\r\n                    </>\r\n                  );\r\n                })}\r\n                {rows && rows.length > 1 ? (\r\n                  <tfoot>\r\n                    <tr>\r\n                      <td className=\"align-middle \" colSpan={1}>\r\n                        Total:\r\n                      </td>\r\n\r\n                      <td colspan=\"3\" className=\"align-middle\">\r\n                        {overallCheckin}\r\n                      </td>\r\n\r\n                      <td colspan=\"3\" className=\"align-middle\">\r\n                        {overallCheckout}\r\n                      </td>\r\n\r\n                      <td className=\"align-middle\">{overallPayment}</td>\r\n                    </tr>\r\n                  </tfoot>\r\n                ) : null}\r\n              </table>\r\n            </div>\r\n          </Paper>\r\n        </Box>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  userDetails: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(Home));\r\n"]},"metadata":{},"sourceType":"module"}